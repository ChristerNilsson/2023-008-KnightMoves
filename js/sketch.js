// Generated by CoffeeScript 2.5.1
var H, Knight, N, NOQUEEN, Queen, R, Rect, W, arrClicks, c, clicks, draw, drawBoard, illegal, info, knight, logg, makeIllegals, mousePressed, moveKnight, newGame, placeQueen, qPosition, queen, r, range, reSize, rects, results, setup, start, state, sum, taken, targets,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

range = _.range;

logg = console.log;

sum = (arr) => {
  return arr.reduce(((a, b) => {
    return a + b;
  }), 0);
};

NOQUEEN = [10, 13, 17, 18, 19, 20, 21, 22, 26, 29, 34, 37, 41, 42, 43, 44, 45, 46, 50, 53];

N = 8;

W = 0;

H = 0;

R = Math.floor(W / 10);

c = (n) => {
  return 7 - modulo(n, N);
};

r = (n) => {
  return Math.floor(n / N);
};

rects = [];

Queen = '♛';

Knight = '♘';

queen = 0;

illegal = []; // indexes of squares taken by queen

targets = []; // indexes of squares that knight must visit

state = 0;

knight = 0;

clicks = 0;

arrClicks = []; // number of clicks for each target

taken = 0;

results = [];

start = 0;

window.onresize = function() {
  return reSize();
};

reSize = function() {
  var ci, col, index, j, len, margin, ref, results1, ri, x, y;
  H = min(Math.floor(innerHeight / 18), Math.floor(innerWidth / 9));
  W = H;
  H = W;
  R = Math.floor(W / 10);
  resizeCanvas(innerWidth, innerHeight);
  rects = [];
  margin = Math.floor((innerWidth - 8 * W) / 2);
  ref = range(N * N);
  results1 = [];
  for (j = 0, len = ref.length; j < len; j++) {
    index = ref[j];
    ri = r(index);
    ci = c(index);
    col = (ri + ci) % 2 ? 'brown' : 'yellow';
    x = W / 2 + W * c(index);
    y = H + H * r(index);
    results1.push(rects.push(new Rect(index, margin + x, y, W, H, col)));
  }
  return results1;
};

makeIllegals = () => {
  var ci, cq, dc, dr, i, j, len, ref, results1, ri, rq;
  ref = range(N * N);
  results1 = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    ci = c(i);
    ri = r(i);
    cq = c(queen);
    rq = r(queen);
    dc = abs(ci - cq);
    dr = abs(ri - rq);
    if (ci === cq || ri === rq || dc === dr) {
      results1.push(illegal.push(i));
    } else {
      results1.push(void 0);
    }
  }
  return results1;
};

placeQueen = (index) => {
  logg(qPosition(index));
  if (NOQUEEN.includes(index)) {
    logg('No queen here');
    return;
  }
  queen = index;
  makeIllegals();
  targets = range(N * N).filter((i) => {
    return !illegal.includes(i);
  });
  knight = targets[0];
  arrClicks.push(0);
  taken++;
  state++;
  return results[results.length - 1] = 'Move the knight to the ring';
};

newGame = function() {
  queen = 0;
  illegal = [];
  targets = [];
  state = 0;
  knight = 0;
  clicks = 0;
  arrClicks = [];
  taken = 0;
  start = new Date();
  if (results.length === 0) {
    results.push('Move the knight to the ring.');
    results.push('Avoid the dots and the queen.');
    results.push('The ring will move when taken.');
    results.push('Repeat for all squares');
    results.push('');
    return results.push('Click on a square to place the queen');
  }
};

moveKnight = (index) => {
  var col, dx, dy, row;
  if (illegal.includes(index)) {
    return;
  }
  col = c(index);
  row = r(index);
  dx = abs(col - c(knight));
  dy = abs(row - r(knight));
  if (dx * dx + dy * dy === 5) {
    knight = index;
    clicks++;
    if (targets[taken] === knight) {
      taken++;
      arrClicks.push(clicks);
      clicks = 0;
    }
  }
  if (taken === targets.length) {
    results.pop();
    results.push(`${qPosition()}: ${sum(arrClicks)} moves took ${(new Date() - start) / 1000} seconds`);
    return state = 2;
  }
};

Rect = class Rect {
  constructor(index1, x1, y1, w, h, col1) {
    this.coin = this.coin.bind(this);
    this.index = index1;
    this.x = x1;
    this.y = y1;
    this.w = w;
    this.h = h;
    this.col = col1;
  }

  draw() {
    fill(this.col);
    return rect(this.x, this.y, this.w, this.h);
  }

  inside(x, y) {
    return abs(x - this.x) <= W / 2 && abs(y - this.y) <= H / 2;
  }

  click() {
    if (state === 0) {
      return placeQueen(this.index);
    } else {
      return moveKnight(this.index);
    }
  }

  drawPiece(name) {
    textSize(W);
    fill("black");
    return text(name, this.x, this.y + 5);
  }

  drawDot() {
    if (this.index !== queen && (r(queen) + c(queen)) % 2 === 0) {
      return ellipse(this.x, this.y, 2 * R);
    }
  }

  text(txt) {
    textAlign(CENTER, CENTER);
    textSize(0.5 * W);
    fill('black');
    return text(txt, this.x, this.y);
  }

  coin() {
    noFill();
    push();
    strokeWeight(3);
    ellipse(this.x, this.y, 5 * R);
    return pop();
  }

};

setup = () => {
  reSize();
  newGame();
  rectMode(CENTER);
  textAlign(CENTER, CENTER);
  return createCanvas(innerWidth, innerHeight);
};

qPosition = function(index) {
  return `Q${"abcdefgh"[c(index)]}${"87654321"[r(index)]}`;
};

info = function() {
  var i, j, len, result, results1;
  fill('black');
  textAlign(CENTER, CENTER);
  textSize(0.5 * W);
  results1 = [];
  for (i = j = 0, len = results.length; j < len; i = ++j) {
    result = results[i];
    results1.push(text(result, Math.floor(innerWidth / 2), 9 * H + i * H / 2));
  }
  return results1;
};

drawBoard = () => {
  var j, len, rect, results1;
  results1 = [];
  for (j = 0, len = rects.length; j < len; j++) {
    rect = rects[j];
    results1.push(rect.draw());
  }
  return results1;
};

draw = () => {
  var i, j, k, len, len1, ref;
  background(128);
  drawBoard();
  info();
  textAlign(CENTER, CENTER);
  if (state > 0) {
    rects[queen].drawPiece(Queen);
    rects[knight].drawPiece(Knight);
  }
  for (j = 0, len = illegal.length; j < len; j++) {
    i = illegal[j];
    rects[i].drawDot();
  }
  textSize(0.55 * W);
  ref = range(taken);
  for (k = 0, len1 = ref.length; k < len1; k++) {
    i = ref[k];
    if (targets[i] !== knight) {
      rects[targets[i]].text(arrClicks[i]);
    }
  }
  if (state === 1) {
    return rects[targets[taken]].coin();
  }
};

mousePressed = function() {
  var j, len, rect, results1;
  if (state === 2) {
    newGame();
    return;
  }
  results1 = [];
  for (j = 0, len = rects.length; j < len; j++) {
    rect = rects[j];
    if (rect.inside(mouseX, mouseY)) {
      results1.push(rect.click());
    } else {
      results1.push(void 0);
    }
  }
  return results1;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxTQUFBLEVBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxFQUFBLFVBQUEsRUFBQSxPQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUE7RUFBQTs7QUFBQSxLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUNWLElBQUEsR0FBTyxPQUFPLENBQUM7O0FBRWYsR0FBQSxHQUFNLENBQUMsR0FBRCxDQUFBLEdBQUE7U0FBUyxHQUFHLENBQUMsTUFBSixDQUFXLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFBLEdBQUE7V0FBVSxDQUFBLEdBQUk7RUFBZCxDQUFELENBQVgsRUFBOEIsQ0FBOUI7QUFBVDs7QUFFTixPQUFBLEdBQVUsQ0FBQyxFQUFELEVBQUksRUFBSixFQUFPLEVBQVAsRUFBVSxFQUFWLEVBQWEsRUFBYixFQUFnQixFQUFoQixFQUFtQixFQUFuQixFQUFzQixFQUF0QixFQUF5QixFQUF6QixFQUE0QixFQUE1QixFQUErQixFQUEvQixFQUFrQyxFQUFsQyxFQUFxQyxFQUFyQyxFQUF3QyxFQUF4QyxFQUEyQyxFQUEzQyxFQUE4QyxFQUE5QyxFQUFpRCxFQUFqRCxFQUFvRCxFQUFwRCxFQUF1RCxFQUF2RCxF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QSxHQUFuQztLQUFBLE1BQUE7NEJBQUE7O0VBREQsQ0FBQTs7QUFKYyIsInNvdXJjZXNDb250ZW50IjpbInJhbmdlID0gXy5yYW5nZVxyXG5sb2dnID0gY29uc29sZS5sb2dcclxuXHJcbnN1bSA9IChhcnIpXHQ9PiBhcnIucmVkdWNlKCgoYSwgYikgPT4gYSArIGIpLCAwKVxyXG5cclxuTk9RVUVFTiA9IFsxMCwxMywxNywxOCwxOSwyMCwyMSwyMiwyNiwyOSwzNCwzNyw0MSw0Miw0Myw0NCw0NSw0Niw1MCw1M11cclxuTiA9IDhcclxuVyA9IDBcclxuSCA9IDBcclxuUiA9IFcvLzEwXHJcbmMgPSAobikgPT4gNyAtIG4gJSUgTlxyXG5yID0gKG4pID0+IG4gLy8gTlxyXG5yZWN0cyA9IFtdXHJcblxyXG5RdWVlbiA9ICfimZsnXHJcbktuaWdodCA9ICfimZgnXHJcbnF1ZWVuID0gMFxyXG5pbGxlZ2FsID0gW10gIyBpbmRleGVzIG9mIHNxdWFyZXMgdGFrZW4gYnkgcXVlZW5cclxudGFyZ2V0cyA9IFtdICMgaW5kZXhlcyBvZiBzcXVhcmVzIHRoYXQga25pZ2h0IG11c3QgdmlzaXRcclxuc3RhdGUgPSAwXHJcblxyXG5rbmlnaHQgPSAwXHJcbmNsaWNrcyA9IDBcclxuYXJyQ2xpY2tzID0gW11cdCMgbnVtYmVyIG9mIGNsaWNrcyBmb3IgZWFjaCB0YXJnZXRcclxudGFrZW4gPSAwXHJcbnJlc3VsdHMgPSBbXVxyXG5cclxuc3RhcnQgPSAwXHJcblxyXG53aW5kb3cub25yZXNpemUgPSAtPiByZVNpemUoKVxyXG5cclxucmVTaXplID0gLT5cclxuXHRIID0gbWluKGlubmVySGVpZ2h0Ly8xOCxpbm5lcldpZHRoLy85KVxyXG5cdFcgPSBIXHJcblx0SCA9IFdcclxuXHRSID0gVy8vMTBcclxuXHRyZXNpemVDYW52YXMgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHRcclxuXHRyZWN0cyA9IFtdXHJcblx0bWFyZ2luID0gKGlubmVyV2lkdGgtOCpXKS8vMlxyXG5cdGZvciBpbmRleCBpbiByYW5nZSBOKk5cclxuXHRcdHJpID0gciBpbmRleFxyXG5cdFx0Y2kgPSBjIGluZGV4XHJcblx0XHRjb2wgPSBpZiAocmkgKyBjaSkgJSAyIHRoZW4gJ2Jyb3duJyBlbHNlICd5ZWxsb3cnXHJcblx0XHR4ID0gVy8yICsgVyAqIGMgaW5kZXhcclxuXHRcdHkgPSBIICsgSCAqIHIgaW5kZXhcclxuXHRcdHJlY3RzLnB1c2ggbmV3IFJlY3QgaW5kZXgsIG1hcmdpbit4LCB5LCBXLEgsIGNvbFxyXG5cclxubWFrZUlsbGVnYWxzID0gPT5cclxuXHRmb3IgaSBpbiByYW5nZSBOKk5cclxuXHRcdGNpID0gYyBpXHJcblx0XHRyaSA9IHIgaVxyXG5cdFx0Y3EgPSBjIHF1ZWVuXHJcblx0XHRycSA9IHIgcXVlZW5cclxuXHRcdGRjID0gYWJzIGNpIC0gY3FcclxuXHRcdGRyID0gYWJzIHJpIC0gcnFcclxuXHRcdGlmIGNpID09IGNxIG9yIHJpID09IHJxIG9yIGRjID09IGRyIHRoZW4gaWxsZWdhbC5wdXNoIGlcclxuXHJcbnBsYWNlUXVlZW4gPSAoaW5kZXgpID0+XHJcblx0bG9nZyBxUG9zaXRpb24gaW5kZXhcclxuXHRpZiBOT1FVRUVOLmluY2x1ZGVzIGluZGV4XHJcblx0XHRsb2dnICdObyBxdWVlbiBoZXJlJ1xyXG5cdFx0cmV0dXJuXHJcblxyXG5cdHF1ZWVuID0gaW5kZXhcclxuXHRtYWtlSWxsZWdhbHMoKVxyXG5cdHRhcmdldHMgPSByYW5nZShOKk4pLmZpbHRlciAoaSkgPT4gbm90IGlsbGVnYWwuaW5jbHVkZXMgaVxyXG5cdGtuaWdodCA9IHRhcmdldHNbMF1cclxuXHRhcnJDbGlja3MucHVzaCAwXHJcblx0dGFrZW4rK1xyXG5cdHN0YXRlKytcclxuXHRyZXN1bHRzW3Jlc3VsdHMubGVuZ3RoLTFdID0gJ01vdmUgdGhlIGtuaWdodCB0byB0aGUgcmluZydcclxuXHJcbm5ld0dhbWUgPSAoKSAtPlxyXG5cdHF1ZWVuID0gMFxyXG5cdGlsbGVnYWwgPSBbXVxyXG5cdHRhcmdldHMgPSBbXVxyXG5cdHN0YXRlID0gMFxyXG5cdGtuaWdodCA9IDBcclxuXHRjbGlja3MgPSAwXHJcblx0YXJyQ2xpY2tzID0gW11cclxuXHR0YWtlbiA9IDBcclxuXHRzdGFydCA9IG5ldyBEYXRlKClcclxuXHJcblx0aWYgcmVzdWx0cy5sZW5ndGggPT0gMFxyXG5cdFx0cmVzdWx0cy5wdXNoICdNb3ZlIHRoZSBrbmlnaHQgdG8gdGhlIHJpbmcuJ1xyXG5cdFx0cmVzdWx0cy5wdXNoICdBdm9pZCB0aGUgZG90cyBhbmQgdGhlIHF1ZWVuLidcclxuXHRcdHJlc3VsdHMucHVzaCAnVGhlIHJpbmcgd2lsbCBtb3ZlIHdoZW4gdGFrZW4uJ1xyXG5cdFx0cmVzdWx0cy5wdXNoICdSZXBlYXQgZm9yIGFsbCBzcXVhcmVzJ1xyXG5cdFx0cmVzdWx0cy5wdXNoICcnXHJcblx0XHRyZXN1bHRzLnB1c2ggJ0NsaWNrIG9uIGEgc3F1YXJlIHRvIHBsYWNlIHRoZSBxdWVlbidcclxuXHJcbm1vdmVLbmlnaHQgPSAoaW5kZXgpID0+XHJcblx0aWYgaWxsZWdhbC5pbmNsdWRlcyBpbmRleCB0aGVuIHJldHVyblxyXG5cdGNvbCA9IGMgaW5kZXhcclxuXHRyb3cgPSByIGluZGV4XHJcblx0ZHggPSBhYnMgY29sIC0gYyBrbmlnaHRcclxuXHRkeSA9IGFicyByb3cgLSByIGtuaWdodFxyXG5cdGlmIGR4KmR4ICsgZHkqZHkgPT0gNVxyXG5cdFx0a25pZ2h0ID0gaW5kZXhcclxuXHRcdGNsaWNrcysrXHJcblx0XHRpZiB0YXJnZXRzW3Rha2VuXSA9PSBrbmlnaHRcclxuXHRcdFx0dGFrZW4rK1xyXG5cdFx0XHRhcnJDbGlja3MucHVzaCBjbGlja3NcclxuXHRcdFx0Y2xpY2tzID0gMFxyXG5cdGlmIHRha2VuID09IHRhcmdldHMubGVuZ3RoXHJcblx0XHRyZXN1bHRzLnBvcCgpXHJcblx0XHRyZXN1bHRzLnB1c2ggXCIje3FQb3NpdGlvbigpfTogI3tzdW0oYXJyQ2xpY2tzKX0gbW92ZXMgdG9vayAjeyhuZXcgRGF0ZSgpLXN0YXJ0KS8xMDAwfSBzZWNvbmRzXCJcclxuXHRcdHN0YXRlID0gMlxyXG5cclxuY2xhc3MgUmVjdFxyXG5cdGNvbnN0cnVjdG9yIDogKEBpbmRleCwgQHgsQHksIEB3LEBoLCBAY29sKSAtPlxyXG5cdGRyYXcgOiAgLT5cclxuXHRcdGZpbGwgQGNvbFxyXG5cdFx0cmVjdCBAeCwgQHksIEB3LCBAaFxyXG5cdGluc2lkZSA6ICh4LCB5KSAtPiBhYnMoeC1AeCkgPD0gVy8yIGFuZCBhYnMoeS1AeSkgPD0gSC8yXHJcblx0Y2xpY2sgOiAtPiBpZiBzdGF0ZT09MCB0aGVuIHBsYWNlUXVlZW4gQGluZGV4IGVsc2UgbW92ZUtuaWdodCBAaW5kZXhcclxuXHRkcmF3UGllY2UgOiAobmFtZSkgLT5cclxuXHRcdHRleHRTaXplIFdcclxuXHRcdGZpbGwgXCJibGFja1wiXHJcblx0XHR0ZXh0IG5hbWUsQHgsQHkgKyA1XHJcblx0ZHJhd0RvdCA6IC0+IGlmIEBpbmRleCAhPSBxdWVlbiBhbmQgKHIocXVlZW4pK2MocXVlZW4pKSAlIDIgPT0gMCB0aGVuIGVsbGlwc2UgQHgsIEB5LCAyKlJcclxuXHR0ZXh0IDogKHR4dCkgLT5cclxuXHRcdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdFx0dGV4dFNpemUgMC41KldcclxuXHRcdGZpbGwgJ2JsYWNrJ1xyXG5cdFx0dGV4dCB0eHQsIEB4LCBAeVxyXG5cdGNvaW4gOiA9PlxyXG5cdFx0bm9GaWxsKClcclxuXHRcdHB1c2goKVxyXG5cdFx0c3Ryb2tlV2VpZ2h0IDNcclxuXHRcdGVsbGlwc2UgQHgsIEB5LCA1KlJcclxuXHRcdHBvcCgpXHJcblxyXG5zZXR1cCA9ID0+XHJcblx0cmVTaXplKClcclxuXHRuZXdHYW1lKClcclxuXHRyZWN0TW9kZSBDRU5URVJcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLCBDRU5URVJcclxuXHRjcmVhdGVDYW52YXMgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHRcclxuXHJcbnFQb3NpdGlvbiA9IChpbmRleCktPiBcIlEje1wiYWJjZGVmZ2hcIltjIGluZGV4XX0je1wiODc2NTQzMjFcIltyIGluZGV4XX1cIlxyXG5cclxuaW5mbyA9IC0+XHJcblx0ZmlsbCAnYmxhY2snXHJcblx0dGV4dEFsaWduIENFTlRFUiwgQ0VOVEVSXHJcblx0dGV4dFNpemUgMC41KldcclxuXHRmb3IgcmVzdWx0LGkgaW4gcmVzdWx0c1xyXG5cdFx0dGV4dCByZXN1bHQsaW5uZXJXaWR0aC8vMiwgOSpIICsgaSpILzJcclxuXHJcbmRyYXdCb2FyZCA9ICgpID0+XHJcblx0Zm9yIHJlY3QgaW4gcmVjdHNcclxuXHRcdHJlY3QuZHJhdygpXHJcblxyXG5kcmF3ID0gPT5cclxuXHRiYWNrZ3JvdW5kIDEyOFxyXG5cdGRyYXdCb2FyZCgpXHJcblx0aW5mbygpXHJcblxyXG5cdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdGlmIHN0YXRlID4gMFxyXG5cdFx0cmVjdHNbcXVlZW5dLmRyYXdQaWVjZSBRdWVlblxyXG5cdFx0cmVjdHNba25pZ2h0XS5kcmF3UGllY2UgS25pZ2h0XHJcblxyXG5cdGZvciBpIGluIGlsbGVnYWxcclxuXHRcdHJlY3RzW2ldLmRyYXdEb3QoKVxyXG5cclxuXHR0ZXh0U2l6ZSAwLjU1KldcclxuXHRmb3IgaSBpbiByYW5nZSB0YWtlblxyXG5cdFx0aWYgdGFyZ2V0c1tpXSAhPSBrbmlnaHRcclxuXHRcdFx0cmVjdHNbdGFyZ2V0c1tpXV0udGV4dCBhcnJDbGlja3NbaV1cclxuXHJcblx0aWYgc3RhdGUgPT0gMVxyXG5cdFx0cmVjdHNbdGFyZ2V0c1t0YWtlbl1dLmNvaW4oKVxyXG5cclxubW91c2VQcmVzc2VkID0gLT5cclxuXHRpZiBzdGF0ZT09MlxyXG5cdFx0bmV3R2FtZSgpXHJcblx0XHRyZXR1cm5cclxuXHRmb3IgcmVjdCBpbiByZWN0c1xyXG5cdFx0aWYgcmVjdC5pbnNpZGUgbW91c2VYLCBtb3VzZVkgdGhlbiByZWN0LmNsaWNrKClcclxuIl19
//# sourceURL=c:\github\2023-008-KnightMoves\coffee\sketch.coffee