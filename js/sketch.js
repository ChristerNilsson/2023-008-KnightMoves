// Generated by CoffeeScript 2.5.1
var H, Knight, N, NOQUEEN, Position, Queen, R, Rect, W, c, clicks, counts, draw, drawBoard, info, intro, knight, knightHops, logg, makeKnightHops, makeQueenHops, margin, mousePressed, moveKnight, newGame, placeQueen, queen, queenHops, r, range, reSize, rects, results, setup, showLittera, start, state, sum, taken, targets,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; },
  indexOf = [].indexOf;

range = _.range;

logg = console.log;

intro = `Select your queen.
Avoid the dots and the queen.
The ring will move when taken.
Repeat for all squares.`.split('\n');

sum = (arr) => {
  return arr.reduce(((a, b) => {
    return a + b;
  }), 0);
};

NOQUEEN = [3, 4, 10, 13, 17, 18, 19, 20, 21, 22, 24, 26, 29, 31, 32, 34, 37, 39, 41, 42, 43, 44, 45, 46, 50, 53, 59, 60];

N = 8;

W = 0;

H = 0;

R = Math.floor(W / 10);

c = (n) => {
  return modulo(n, N);
};

r = (n) => {
  return Math.floor(n / N);
};

rects = [];

Queen = '♛';

Knight = '♘';

queen = 0;

queenHops = []; // indexes of squares taken by queen

targets = []; // indexes of squares that knight must visit

state = 0;

margin = 0;

makeKnightHops = (knight) => {
  var c2, col, dc, dr, index, j, k, len, len1, r2, ref, ref1, res, row;
  if (knight === -1) {
    return [];
  }
  res = [];
  col = c(knight);
  row = r(knight);
  ref = [-2, -1, 1, 2];
  for (j = 0, len = ref.length; j < len; j++) {
    dc = ref[j];
    ref1 = [-2, -1, 1, 2];
    for (k = 0, len1 = ref1.length; k < len1; k++) {
      dr = ref1[k];
      if (abs(dc) === abs(dr)) {
        continue;
      }
      c2 = col + dc;
      r2 = row + dr;
      index = c2 + 8 * r2;
      if (indexOf.call(range(8), c2) >= 0 && indexOf.call(range(8), r2) >= 0 && indexOf.call(targets, index) >= 0) {
        res.push(index);
      }
    }
  }
  res.sort(function(a, b) {
    return a - b;
  });
  return res;
};

knight = 0;

knightHops = [];

clicks = 0;

counts = []; // number of clicks for each target

taken = 0;

results = ['Move the knight to the ring'];

start = 0;

window.onresize = function() {
  return reSize();
};

reSize = function() {
  var ci, col, index, j, len, ref, results1, ri, x, y;
  H = min(Math.floor(innerHeight / 13), Math.floor(innerWidth / 9));
  W = H;
  H = W;
  R = Math.floor(W / 10);
  resizeCanvas(innerWidth, innerHeight);
  rects = [];
  margin = (innerWidth - 10 * W) / 2 + Math.floor(W / 3);
  ref = range(N * N);
  results1 = [];
  for (j = 0, len = ref.length; j < len; j++) {
    index = ref[j];
    ri = r(index);
    ci = c(index);
    col = (ri + ci) % 2 ? 'darkgray' : 'lightgray';
    x = 3 * W / 2 + W * c(index);
    y = 3 * H / 2 + H * (7 - r(index));
    results1.push(rects.push(new Rect(index, margin + x, y, W, H, col)));
  }
  return results1;
};

makeQueenHops = () => {
  var ci, cq, dc, dr, i, j, len, ref, ri, rq;
  ref = range(N * N);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    ci = c(i);
    ri = r(i);
    cq = c(queen);
    rq = r(queen);
    dc = abs(ci - cq);
    dr = abs(ri - rq);
    if (ci === cq || ri === rq || dc === dr) {
      queenHops.push(i);
    }
  }
  return logg({queenHops});
};

placeQueen = (index) => {
  logg('Q' + Position(index));
  if (NOQUEEN.includes(index)) {
    logg('No queen here');
    return;
  }
  queen = index;
  makeQueenHops();
  targets = range(N * N).filter((i) => {
    return !queenHops.includes(i);
  });
  targets.sort(function(a, b) {
    return b - a;
  });
  knight = targets[0];
  knightHops = makeKnightHops(knight);
  counts = [];
  taken++;
  return state++;
};

newGame = function() {
  queen = 0;
  queenHops = [];
  targets = [];
  state = 0;
  knight = 0;
  clicks = 0;
  counts = [];
  taken = 0;
  return start = new Date();
};

moveKnight = (index) => {
  var col, dx, dy, row;
  if (queenHops.includes(index)) {
    return;
  }
  col = c(index);
  row = r(index);
  dx = abs(col - c(knight));
  dy = abs(row - r(knight));
  if (indexOf.call(knightHops, index) >= 0) {
    knight = index;
    knightHops = makeKnightHops(knight);
    clicks++;
    if (targets[taken] === knight) {
      taken++;
      counts.push(clicks);
      clicks = 0;
    }
  }
  if (taken === targets.length) {
    results.push(`Q${Position(queen)}: ${sum(counts)} moves took ${(new Date() - start) / 1000} seconds`);
    return state = 2;
  }
};

Rect = class Rect {
  constructor(index1, x1, y1, w, h, col4) {
    this.ring = this.ring.bind(this);
    this.index = index1;
    this.x = x1;
    this.y = y1;
    this.w = w;
    this.h = h;
    this.col = col4;
  }

  draw() {
    fill(this.col);
    return rect(this.x, this.y, this.w, this.h);
  }

  inside(x, y) {
    return abs(x - this.x) <= W / 2 && abs(y - this.y) <= H / 2;
  }

  click() {
    logg(this.index);
    if (state === 0) {
      return placeQueen(this.index);
    } else {
      return moveKnight(this.index);
    }
  }

  drawPiece(name) {
    textSize(1.1 * W);
    fill("black");
    return text(name, this.x, this.y + 0.1 * H);
  }

  drawQueenHop() {
    var ref;
    if (r(queen) % 2 === 0 && this.index !== queen && (ref = this.index, indexOf.call(queenHops, ref) >= 0)) {
      return ellipse(this.x, this.y, 3 * R);
    }
  }

  drawKnightHop() {
    var ref;
    if (c(queen) % 2 === 0 && (ref = this.index, indexOf.call(knightHops, ref) >= 0)) {
      return ellipse(this.x, this.y, 3 * R);
    }
  }

  text(txt) {
    textAlign(CENTER, CENTER);
    textSize(0.5 * W);
    fill('black');
    return text(txt, this.x, this.y);
  }

  ring() {
    noFill();
    push();
    strokeWeight(3);
    stroke('yellow');
    ellipse(this.x, this.y, 5 * R);
    return pop();
  }

};

setup = () => {
  reSize();
  newGame();
  rectMode(CENTER);
  textAlign(CENTER, CENTER);
  return createCanvas(innerWidth, innerHeight);
};

Position = function(index) {
  return `${"abcdefgh"[c(index)]}${"87654321"[r(index)]}`;
};

info = function() {
  var i, j, len, result, results1, temp;
  fill('black');
  textAlign(CENTER, CENTER);
  textSize(0.5 * W);
  temp = state === 0 ? intro : results;
  results1 = [];
  for (i = j = 0, len = temp.length; j < len; i = ++j) {
    result = temp[i];
    results1.push(text(result, Math.floor(innerWidth / 2), 10.5 * H + i * H / 2));
  }
  return results1;
};

drawBoard = () => {
  var j, len, rect, results1;
  results1 = [];
  for (j = 0, len = rects.length; j < len; j++) {
    rect = rects[j];
    results1.push(rect.draw());
  }
  return results1;
};

showLittera = (flag) => {
  var col1, col2, col3, i, j, len, ref, results1, x, y;
  col1 = "black";
  col2 = "white";
  textSize(0.5 * W);
  ref = range(N);
  results1 = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    x = W * (1.5 + i) + margin;
    y = W * (0.5 + N - i);
    col3 = flag ? [col2, col1][i % 2] : col1;
    noFill();
    if (flag && i % 2 === 0) {
      circle(x, W * (N + 1.5), 0.6 * W);
    }
    fill(col1);
    if (flag && i % 2 === 0) {
      circle(margin + W / 2, y, 0.6 * W);
    }
    text("abcdefgh"[i], x, W * (N + 1.5));
    if (i % 2 === 0) {
      fill(col3);
    } else {
      fill(col1);
    }
    results1.push(text("12345678"[i], margin + W / 2, y + 2));
  }
  return results1;
};

draw = () => {
  var i, j, k, l, len, len1, len2, len3, m, ref, ref1;
  background(128);
  drawBoard();
  showLittera(state === 0);
  info();
  textAlign(CENTER, CENTER);
  if (state > 0) {
    rects[queen].drawPiece(Queen);
    rects[knight].drawPiece(Knight);
  }
  textSize(0.55 * W);
  ref = range(taken);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    if (targets[i] !== knight) {
      rects[targets[i]].text(counts[i]);
    }
  }
  fill('black');
  for (k = 0, len1 = queenHops.length; k < len1; k++) {
    i = queenHops[k];
    rects[i].drawQueenHop();
  }
  fill('white');
  for (l = 0, len2 = knightHops.length; l < len2; l++) {
    i = knightHops[l];
    rects[i].drawKnightHop();
  }
  if (state === 0) {
    ref1 = range(N * N);
    for (m = 0, len3 = ref1.length; m < len3; m++) {
      i = ref1[m];
      if (!NOQUEEN.includes(i)) {
        rects[i].drawPiece(Queen);
      }
    }
  }
  if (state === 1) {
    return rects[targets[taken]].ring();
  }
};

mousePressed = function() {
  var j, len, rect, results1;
  if (state === 2) {
    newGame();
    return;
  }
  results1 = [];
  for (j = 0, len = rects.length; j < len; j++) {
    rect = rects[j];
    if (rect.inside(mouseX, mouseY)) {
      results1.push(rect.click());
    } else {
      results1.push(void 0);
    }
  }
  return results1;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsSUFBQSxFQUFBLGNBQUEsRUFBQSxhQUFBLEVBQUEsTUFBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsT0FBQSxFQUFBLFVBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLENBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQTtFQUFBOzs7QUFBQSxLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUNWLElBQUEsR0FBTyxPQUFPLENBQUM7O0FBRWYsS0FBQSxHQUFRLENBQUE7Ozt1QkFBQSxDQUtMLENBQUMsS0FMSSxDQUtFLElBTEY7O0FBT1IsR0FBQSxHQUFNLENBQUMsR0FBRCxDQUFBLEdBQUE7U0FBUyxHQUFHLENBQUMsTUFBSixDQUFXLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFBLEdBQUE7V0FBVSxDQUFBLEdBQUk7RUFBZCxDQUFELENBQVgsRUFBOEIsQ0FBOUI7QUFBVDs7QUFFTixPQUFBLEdBQVUsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLEVBQUwsRUFBUSxFQUFSLEVBQVcsRUFBWCxFQUFjLEVBQWQsRUFBaUIsRUFBakIsRUFBb0IsRUFBcEIsRUFBdUIsRUFBdkIsRUFBMEIsRUFBMUIsRUFBNkIs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QyxDQUFELENBQVIsQ0FBWSxDQUFDLElBQWxCLENBQXVCLE1BQU0sQ0FBQyxDQUFELENBQTdCLEVBREQ7O0VBREQ7RUFJQSxJQUFBLENBQUssT0FBTDtFQUNBLEtBQUEsNkNBQUE7O0lBQ0MsS0FBSyxDQUFDLENBQUQsQ0FBRyxDQUFDLFlBQVQsQ0FBQTtFQUREO0VBR0EsSUFBQSxDQUFLLE9BQUw7RUFDQSxLQUFBLDhDQUFBOztJQUNDLEtBQUssQ0FBQyxDQUFELENBQUcsQ0FBQyxhQUFULENBQUE7RUFERDtFQUdBLElBQUcsS0FBQSxLQUFTLENBQVo7QUFDQztJQUFBLEtBQUEsd0NBQUE7O01BQ0MsSUFBRyxDQUFJLE9BQU8sQ0FBQyxRQUFSLENBQWlCLENBQWpCLENBQVA7UUFDQyxLQUFLLENBQUMsQ0FBRCxDQUFHLENBQUMsU0FBVCxDQUFtQixLQUFuQixFQUREOztJQURELENBREQ7O0VBS0EsSUFBRyxLQUFBLEtBQVMsQ0FBWjtXQUNDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBRCxDQUFSLENBQWdCLENBQUMsSUFBdEIsQ0FBQSxFQUREOztBQTdCTTs7QUFnQ1AsWUFBQSxHQUFlLFFBQUEsQ0FBQSxDQUFBO0FBQ2YsTUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQTtFQUFDLElBQUcsS0FBQSxLQUFPLENBQVY7SUFDQyxPQUFBLENBQUE7QUFDQSxXQUZEOztBQUdBO0VBQUEsS0FBQSx1Q0FBQTs7SUFDQyxJQUFHLElBQUksQ0FBQyxNQUFMLENBQVksTUFBWixFQUFvQixNQUFwQixDQUFIO29CQUFtQyxJQUFJLENBQUMsS0FBTCxDQUFBLEdBQW5DO0tBQUEsTUFBQTs0QkFBQTs7RUFERCxDQUFBOztBQUpjIiwic291cmNlc0NvbnRlbnQiOlsicmFuZ2UgPSBfLnJhbmdlXHJcbmxvZ2cgPSBjb25zb2xlLmxvZ1xyXG5cclxuaW50cm8gPSBcIlwiXCJcclxuU2VsZWN0IHlvdXIgcXVlZW4uXHJcbkF2b2lkIHRoZSBkb3RzIGFuZCB0aGUgcXVlZW4uXHJcblRoZSByaW5nIHdpbGwgbW92ZSB3aGVuIHRha2VuLlxyXG5SZXBlYXQgZm9yIGFsbCBzcXVhcmVzLlxyXG5cIlwiXCIuc3BsaXQoJ1xcbicpXHJcblxyXG5zdW0gPSAoYXJyKVx0PT4gYXJyLnJlZHVjZSgoKGEsIGIpID0+IGEgKyBiKSwgMClcclxuXHJcbk5PUVVFRU4gPSBbMyw0LDEwLDEzLDE3LDE4LDE5LDIwLDIxLDIyLDI0LDI2LDI5LDMxLDMyLDM0LDM3LDM5LDQxLDQyLDQzLDQ0LDQ1LDQ2LDUwLDUzLDU5LDYwXVxyXG5OID0gOFxyXG5XID0gMFxyXG5IID0gMFxyXG5SID0gVy8vMTBcclxuYyA9IChuKSA9PiBuICUlIE5cclxuciA9IChuKSA9PiBuIC8vIE5cclxucmVjdHMgPSBbXVxyXG5cclxuUXVlZW4gPSAn4pmbJ1xyXG5LbmlnaHQgPSAn4pmYJ1xyXG5xdWVlbiA9IDBcclxucXVlZW5Ib3BzID0gW10gIyBpbmRleGVzIG9mIHNxdWFyZXMgdGFrZW4gYnkgcXVlZW5cclxudGFyZ2V0cyA9IFtdICMgaW5kZXhlcyBvZiBzcXVhcmVzIHRoYXQga25pZ2h0IG11c3QgdmlzaXRcclxuc3RhdGUgPSAwXHJcbm1hcmdpbiA9IDBcclxuXHJcbm1ha2VLbmlnaHRIb3BzID0gKGtuaWdodCkgPT5cclxuXHRpZiBrbmlnaHQ9PS0xIHRoZW4gcmV0dXJuIFtdXHJcblx0cmVzID0gW11cclxuXHRjb2wgPSBjIGtuaWdodFxyXG5cdHJvdyA9IHIga25pZ2h0XHJcblx0Zm9yIGRjIGluIFstMiwtMSwxLDJdXHJcblx0XHRmb3IgZHIgaW4gWy0yLC0xLDEsMl1cclxuXHRcdFx0aWYgYWJzKGRjKSA9PSBhYnMoZHIpIHRoZW4gY29udGludWVcclxuXHRcdFx0YzIgPSBjb2wgKyBkY1xyXG5cdFx0XHRyMiA9IHJvdyArIGRyXHJcblx0XHRcdGluZGV4ID0gYzIrOCpyMlxyXG5cdFx0XHRpZiBjMiBpbiByYW5nZSg4KSBhbmQgcjIgaW4gcmFuZ2UoOCkgYW5kIGluZGV4IGluIHRhcmdldHMgdGhlbiByZXMucHVzaCBpbmRleFxyXG5cdHJlcy5zb3J0IChhLGIpIC0+IGEtYlxyXG5cdHJlc1xyXG5cclxua25pZ2h0ID0gMFxyXG5rbmlnaHRIb3BzID0gW11cclxuY2xpY2tzID0gMFxyXG5jb3VudHMgPSBbXVx0IyBudW1iZXIgb2YgY2xpY2tzIGZvciBlYWNoIHRhcmdldFxyXG50YWtlbiA9IDBcclxucmVzdWx0cyA9IFsnTW92ZSB0aGUga25pZ2h0IHRvIHRoZSByaW5nJ11cclxuXHJcbnN0YXJ0ID0gMFxyXG5cclxud2luZG93Lm9ucmVzaXplID0gLT4gcmVTaXplKClcclxuXHJcbnJlU2l6ZSA9IC0+XHJcblx0SCA9IG1pbihpbm5lckhlaWdodC8vMTMsaW5uZXJXaWR0aC8vOSlcclxuXHRXID0gSFxyXG5cdEggPSBXXHJcblx0UiA9IFcvLzEwXHJcblx0cmVzaXplQ2FudmFzIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0XHJcblx0cmVjdHMgPSBbXVxyXG5cdG1hcmdpbiA9IChpbm5lcldpZHRoLTEwKlcpLzIgKyBXLy8zXHJcblx0Zm9yIGluZGV4IGluIHJhbmdlIE4qTlxyXG5cdFx0cmkgPSByIGluZGV4XHJcblx0XHRjaSA9IGMgaW5kZXhcclxuXHRcdGNvbCA9IGlmIChyaSArIGNpKSAlIDIgdGhlbiAnZGFya2dyYXknIGVsc2UgJ2xpZ2h0Z3JheSdcclxuXHRcdHggPSAzKlcvMiArIFcgKiBjIGluZGV4XHJcblx0XHR5ID0gMypILzIgKyBIICogKDctciBpbmRleClcclxuXHRcdHJlY3RzLnB1c2ggbmV3IFJlY3QgaW5kZXgsIG1hcmdpbit4LCB5LCBXLEgsIGNvbFxyXG5cclxubWFrZVF1ZWVuSG9wcyA9ID0+XHJcblx0Zm9yIGkgaW4gcmFuZ2UgTipOXHJcblx0XHRjaSA9IGMgaVxyXG5cdFx0cmkgPSByIGlcclxuXHRcdGNxID0gYyBxdWVlblxyXG5cdFx0cnEgPSByIHF1ZWVuXHJcblx0XHRkYyA9IGFicyBjaSAtIGNxXHJcblx0XHRkciA9IGFicyByaSAtIHJxXHJcblx0XHRpZiBjaSA9PSBjcSBvciByaSA9PSBycSBvciBkYyA9PSBkciB0aGVuIHF1ZWVuSG9wcy5wdXNoIGlcclxuXHRsb2dnIHtxdWVlbkhvcHN9XHJcblxyXG5wbGFjZVF1ZWVuID0gKGluZGV4KSA9PlxyXG5cdGxvZ2cgJ1EnICsgUG9zaXRpb24gaW5kZXhcclxuXHRpZiBOT1FVRUVOLmluY2x1ZGVzIGluZGV4XHJcblx0XHRsb2dnICdObyBxdWVlbiBoZXJlJ1xyXG5cdFx0cmV0dXJuXHJcblxyXG5cdHF1ZWVuID0gaW5kZXhcclxuXHRtYWtlUXVlZW5Ib3BzKClcclxuXHR0YXJnZXRzID0gcmFuZ2UoTipOKS5maWx0ZXIgKGkpID0+IG5vdCBxdWVlbkhvcHMuaW5jbHVkZXMgaVxyXG5cdHRhcmdldHMuc29ydCAoYSxiKSAtPiBiLWFcclxuXHRrbmlnaHQgPSB0YXJnZXRzWzBdXHJcblx0a25pZ2h0SG9wcyA9IG1ha2VLbmlnaHRIb3BzIGtuaWdodFxyXG5cdGNvdW50cyA9IFtdXHJcblx0dGFrZW4rK1xyXG5cdHN0YXRlKytcclxuXHJcbm5ld0dhbWUgPSAoKSAtPlxyXG5cdHF1ZWVuID0gMFxyXG5cdHF1ZWVuSG9wcyA9IFtdXHJcblx0dGFyZ2V0cyA9IFtdXHJcblx0c3RhdGUgPSAwXHJcblx0a25pZ2h0ID0gMFxyXG5cdGNsaWNrcyA9IDBcclxuXHRjb3VudHMgPSBbXVxyXG5cdHRha2VuID0gMFxyXG5cdHN0YXJ0ID0gbmV3IERhdGUoKVxyXG5cclxubW92ZUtuaWdodCA9IChpbmRleCkgPT5cclxuXHRpZiBxdWVlbkhvcHMuaW5jbHVkZXMgaW5kZXggdGhlbiByZXR1cm5cclxuXHRjb2wgPSBjIGluZGV4XHJcblx0cm93ID0gciBpbmRleFxyXG5cdGR4ID0gYWJzIGNvbCAtIGMga25pZ2h0XHJcblx0ZHkgPSBhYnMgcm93IC0gciBrbmlnaHRcclxuXHRpZiBpbmRleCBpbiBrbmlnaHRIb3BzXHJcblx0XHRrbmlnaHQgPSBpbmRleFxyXG5cdFx0a25pZ2h0SG9wcyA9IG1ha2VLbmlnaHRIb3BzIGtuaWdodFxyXG5cdFx0Y2xpY2tzKytcclxuXHRcdGlmIHRhcmdldHNbdGFrZW5dID09IGtuaWdodFxyXG5cdFx0XHR0YWtlbisrXHJcblx0XHRcdGNvdW50cy5wdXNoIGNsaWNrc1xyXG5cdFx0XHRjbGlja3MgPSAwXHJcblx0aWYgdGFrZW4gPT0gdGFyZ2V0cy5sZW5ndGhcclxuXHRcdHJlc3VsdHMucHVzaCBcIlEje1Bvc2l0aW9uIHF1ZWVufTogI3tzdW0oY291bnRzKX0gbW92ZXMgdG9vayAjeyhuZXcgRGF0ZSgpLXN0YXJ0KS8xMDAwfSBzZWNvbmRzXCJcclxuXHRcdHN0YXRlID0gMlxyXG5cclxuY2xhc3MgUmVjdFxyXG5cdGNvbnN0cnVjdG9yIDogKEBpbmRleCwgQHgsQHksIEB3LEBoLCBAY29sKSAtPlxyXG5cdGRyYXcgOiAtPlxyXG5cdFx0ZmlsbCBAY29sXHJcblx0XHRyZWN0IEB4LCBAeSwgQHcsIEBoXHJcblx0aW5zaWRlIDogKHgsIHkpIC0+IGFicyh4LUB4KSA8PSBXLzIgYW5kIGFicyh5LUB5KSA8PSBILzJcclxuXHRjbGljayA6IC0+IFxyXG5cdFx0bG9nZyBAaW5kZXhcclxuXHRcdGlmIHN0YXRlPT0wIHRoZW4gcGxhY2VRdWVlbiBAaW5kZXggZWxzZSBtb3ZlS25pZ2h0IEBpbmRleFxyXG5cdGRyYXdQaWVjZSA6IChuYW1lKSAtPlxyXG5cdFx0dGV4dFNpemUgMS4xICogV1xyXG5cdFx0ZmlsbCBcImJsYWNrXCJcclxuXHRcdHRleHQgbmFtZSxAeCxAeSswLjEqSFxyXG5cdGRyYXdRdWVlbkhvcCAgOiAtPiBpZiByKHF1ZWVuKSUyPT0wIGFuZCBAaW5kZXghPXF1ZWVuIGFuZCBAaW5kZXggaW4gcXVlZW5Ib3BzIHRoZW4gZWxsaXBzZSBAeCwgQHksIDMqUlxyXG5cdGRyYXdLbmlnaHRIb3AgOiAtPiBpZiBjKHF1ZWVuKSUyPT0wIGFuZCBAaW5kZXggaW4ga25pZ2h0SG9wcyB0aGVuIGVsbGlwc2UgQHgsIEB5LCAzKlJcclxuXHR0ZXh0IDogKHR4dCkgLT5cclxuXHRcdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdFx0dGV4dFNpemUgMC41KldcclxuXHRcdGZpbGwgJ2JsYWNrJ1xyXG5cdFx0dGV4dCB0eHQsIEB4LCBAeVxyXG5cdHJpbmcgOiA9PlxyXG5cdFx0bm9GaWxsKClcclxuXHRcdHB1c2goKVxyXG5cdFx0c3Ryb2tlV2VpZ2h0IDNcclxuXHRcdHN0cm9rZSAneWVsbG93J1xyXG5cdFx0ZWxsaXBzZSBAeCwgQHksIDUqUlxyXG5cdFx0cG9wKClcclxuXHJcbnNldHVwID0gPT5cclxuXHRyZVNpemUoKVxyXG5cdG5ld0dhbWUoKVxyXG5cdHJlY3RNb2RlIENFTlRFUlxyXG5cdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdGNyZWF0ZUNhbnZhcyBpbm5lcldpZHRoLCBpbm5lckhlaWdodFxyXG5cclxuUG9zaXRpb24gPSAoaW5kZXgpIC0+IFwiI3tcImFiY2RlZmdoXCJbYyBpbmRleF19I3tcIjg3NjU0MzIxXCJbciBpbmRleF19XCJcclxuXHJcbmluZm8gPSAtPlxyXG5cdGZpbGwgJ2JsYWNrJ1xyXG5cdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdHRleHRTaXplIDAuNSpXXHJcblx0dGVtcCA9IGlmIHN0YXRlPT0wIHRoZW4gaW50cm8gZWxzZSByZXN1bHRzXHJcblx0Zm9yIHJlc3VsdCxpIGluIHRlbXBcclxuXHRcdHRleHQgcmVzdWx0LGlubmVyV2lkdGgvLzIsIDEwLjUqSCArIGkqSC8yXHJcblxyXG5kcmF3Qm9hcmQgPSA9PlxyXG5cdGZvciByZWN0IGluIHJlY3RzXHJcblx0XHRyZWN0LmRyYXcoKVxyXG5cclxuc2hvd0xpdHRlcmEgPSAoZmxhZykgPT5cclxuXHRjb2wxID0gXCJibGFja1wiXHJcblx0Y29sMiA9IFwid2hpdGVcIlxyXG5cdHRleHRTaXplIDAuNSpXXHJcblx0Zm9yIGkgaW4gcmFuZ2UgTlxyXG5cdFx0eCA9IFcqKDEuNStpKSArIG1hcmdpblxyXG5cdFx0eSA9IFcqKDAuNStOLWkpXHJcblx0XHRjb2wzID0gaWYgZmxhZyB0aGVuIFtjb2wyLGNvbDFdW2klMl0gZWxzZSBjb2wxXHJcblx0XHRub0ZpbGwoKVxyXG5cdFx0aWYgZmxhZyBhbmQgaSUyPT0wIHRoZW4gY2lyY2xlIHgsIFcqKE4rMS41KSwgMC42KldcclxuXHRcdGZpbGwgY29sMVxyXG5cdFx0aWYgZmxhZyBhbmQgaSUyPT0wIHRoZW4gY2lyY2xlIG1hcmdpbitXLzIsIHksMC42KldcclxuXHRcdHRleHQgXCJhYmNkZWZnaFwiW2ldLCB4LCBXKihOKzEuNSlcclxuXHRcdGlmIGklMj09MCB0aGVuIGZpbGwgY29sMyBlbHNlIGZpbGwgY29sMVxyXG5cdFx0dGV4dCBcIjEyMzQ1Njc4XCJbaV0sIG1hcmdpbitXLzIsIHkrMlxyXG5cclxuZHJhdyA9ID0+XHJcblx0YmFja2dyb3VuZCAxMjhcclxuXHRkcmF3Qm9hcmQoKVxyXG5cdHNob3dMaXR0ZXJhIHN0YXRlPT0wXHJcblx0aW5mbygpXHJcblxyXG5cdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdGlmIHN0YXRlID4gMFxyXG5cdFx0cmVjdHNbcXVlZW5dLmRyYXdQaWVjZSBRdWVlblxyXG5cdFx0cmVjdHNba25pZ2h0XS5kcmF3UGllY2UgS25pZ2h0XHJcblxyXG5cdHRleHRTaXplIDAuNTUqV1xyXG5cdGZvciBpIGluIHJhbmdlIHRha2VuXHJcblx0XHRpZiB0YXJnZXRzW2ldICE9IGtuaWdodFxyXG5cdFx0XHRyZWN0c1t0YXJnZXRzW2ldXS50ZXh0IGNvdW50c1tpXVxyXG5cclxuXHRmaWxsICdibGFjaydcclxuXHRmb3IgaSBpbiBxdWVlbkhvcHNcclxuXHRcdHJlY3RzW2ldLmRyYXdRdWVlbkhvcCgpXHJcblxyXG5cdGZpbGwgJ3doaXRlJ1xyXG5cdGZvciBpIGluIGtuaWdodEhvcHNcclxuXHRcdHJlY3RzW2ldLmRyYXdLbmlnaHRIb3AoKVxyXG5cclxuXHRpZiBzdGF0ZSA9PSAwXHJcblx0XHRmb3IgaSBpbiByYW5nZShOKk4pXHJcblx0XHRcdGlmIG5vdCBOT1FVRUVOLmluY2x1ZGVzIGlcclxuXHRcdFx0XHRyZWN0c1tpXS5kcmF3UGllY2UoUXVlZW4pXHJcblxyXG5cdGlmIHN0YXRlID09IDFcclxuXHRcdHJlY3RzW3RhcmdldHNbdGFrZW5dXS5yaW5nKClcclxuXHJcbm1vdXNlUHJlc3NlZCA9IC0+XHJcblx0aWYgc3RhdGU9PTJcclxuXHRcdG5ld0dhbWUoKVxyXG5cdFx0cmV0dXJuXHJcblx0Zm9yIHJlY3QgaW4gcmVjdHNcclxuXHRcdGlmIHJlY3QuaW5zaWRlIG1vdXNlWCwgbW91c2VZIHRoZW4gcmVjdC5jbGljaygpXHJcbiJdfQ==
//# sourceURL=c:\github\2023-008-KnightMoves\coffee\sketch.coffee