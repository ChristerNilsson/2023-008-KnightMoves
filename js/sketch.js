// Generated by CoffeeScript 2.5.1
var H, Knight, N, NOQUEEN, Queen, R, Rect, W, arrClicks, c, clicks, draw, drawBoard, illegal, info, knight, logg, makeIllegals, mousePressed, moveKnight, newGame, placeQueen, qPosition, queen, r, range, reSize, rects, results, setup, start, state, sum, taken, targets,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

range = _.range;

logg = console.log;

sum = (arr) => {
  return arr.reduce(((a, b) => {
    return a + b;
  }), 0);
};

NOQUEEN = [10, 13, 17, 18, 19, 20, 21, 22, 26, 29, 34, 37, 41, 42, 43, 44, 45, 46, 50, 53];

N = 8;

W = 0;

H = 0;

R = Math.floor(W / 10);

c = (n) => {
  return modulo(n, N);
};

r = (n) => {
  return Math.floor(n / N);
};

rects = [];

Queen = '♛';

Knight = '♘';

queen = 0;

illegal = []; // indexes of squares taken by queen

targets = []; // indexes of squares that knight must visit

state = 0;

knight = 0;

clicks = 0;

arrClicks = []; // number of clicks for each target

taken = 0;

results = [];

start = 0;

window.onresize = function() {
  return reSize();
};

reSize = function() {
  var ci, col, index, j, len, margin, ref, results1, ri, x, y;
  H = min(Math.floor(innerHeight / 18), Math.floor(innerWidth / 9));
  W = H;
  H = W;
  R = Math.floor(W / 10);
  resizeCanvas(innerWidth, innerHeight);
  rects = [];
  margin = Math.floor((innerWidth - 8 * W) / 2);
  ref = range(N * N);
  results1 = [];
  for (j = 0, len = ref.length; j < len; j++) {
    index = ref[j];
    ri = r(index);
    ci = c(index);
    col = (ri + ci) % 2 ? 'yellow' : 'brown';
    x = W / 2 + W * c(index);
    y = H + H * r(index);
    results1.push(rects.push(new Rect(index, margin + x, y, W, H, col)));
  }
  return results1;
};

makeIllegals = () => {
  var ci, cq, dc, dr, i, j, len, ref, results1, ri, rq;
  ref = range(N * N);
  results1 = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    ci = c(i);
    ri = r(i);
    cq = c(queen);
    rq = r(queen);
    dc = abs(ci - cq);
    dr = abs(ri - rq);
    if (ci === cq || ri === rq || dc === dr) {
      results1.push(illegal.push(i));
    } else {
      results1.push(void 0);
    }
  }
  return results1;
};

placeQueen = (index) => {
  if (NOQUEEN.includes(index)) {
    logg('No queen here');
    return;
  }
  queen = index;
  makeIllegals();
  targets = range(N * N).filter((i) => {
    return !illegal.includes(i);
  });
  knight = targets[0];
  arrClicks.push(0);
  taken++;
  state++;
  return results[results.length - 1] = 'Move the knight to the coin';
};

newGame = function() {
  queen = 0;
  illegal = [];
  targets = [];
  state = 0;
  knight = 0;
  clicks = 0;
  arrClicks = [];
  taken = 0;
  start = new Date();
  if (results.length === 0) {
    results.push('Move the knight to the square with');
    results.push('a coin, without moving to a square the');
    results.push('queen can capture and without capturing');
    results.push('the queen. Once accomplished the coin');
    results.push('moves to the next square. Repeat until');
    results.push('all possible squares are done.');
    results.push('');
    return results.push('Click on a square to place the queen');
  }
};

moveKnight = (index) => {
  var col, dx, dy, row;
  if (illegal.includes(index)) {
    return;
  }
  col = c(index);
  row = r(index);
  dx = abs(col - c(knight));
  dy = abs(row - r(knight));
  if (dx * dx + dy * dy === 5) {
    knight = index;
    clicks++;
    if (targets[taken] === knight) {
      taken++;
      arrClicks.push(clicks);
      clicks = 0;
    }
  }
  if (taken === targets.length) {
    results.pop();
    results.push(`${qPosition()}: ${sum(arrClicks)} clicks took ${(new Date() - start) / 1000} seconds`);
    return state = 2;
  }
};

Rect = class Rect {
  constructor(index1, x1, y1, w, h, col1) {
    this.coin = this.coin.bind(this);
    this.index = index1;
    this.x = x1;
    this.y = y1;
    this.w = w;
    this.h = h;
    this.col = col1;
  }

  draw() {
    fill(this.col);
    return rect(this.x, this.y, this.w, this.h);
  }

  inside(x, y) {
    return abs(x - this.x) <= W / 2 && abs(y - this.y) <= H / 2;
  }

  click() {
    if (state === 0) {
      return placeQueen(this.index);
    } else {
      return moveKnight(this.index);
    }
  }

  drawPiece(name) {
    textSize(W);
    fill("black");
    return text(name, this.x, this.y + 5);
  }

  drawDot() {
    if (this.index !== queen) {
      return ellipse(this.x, this.y, 2 * R);
    }
  }

  text(txt) {
    textAlign(CENTER, CENTER);
    textSize(0.5 * W);
    fill('black');
    return text(txt, this.x, this.y);
  }

  coin() {
    noFill();
    push();
    strokeWeight(3);
    ellipse(this.x, this.y, 5 * R);
    return pop();
  }

};

setup = () => {
  reSize();
  newGame();
  rectMode(CENTER);
  textAlign(CENTER, CENTER);
  return createCanvas(innerWidth, innerHeight);
};

qPosition = function() {
  return `Q${"abcdefgh"[c(queen)]}${"87654321"[r(queen)]}`;
};

info = function() {
  var i, j, len, result, results1;
  fill('black');
  textAlign(CENTER, CENTER);
  textSize(0.5 * W);
  results1 = [];
  for (i = j = 0, len = results.length; j < len; i = ++j) {
    result = results[i];
    results1.push(text(result, Math.floor(innerWidth / 2), 9 * H + i * H / 2));
  }
  return results1;
};

drawBoard = () => {
  var j, len, rect, results1;
  results1 = [];
  for (j = 0, len = rects.length; j < len; j++) {
    rect = rects[j];
    results1.push(rect.draw());
  }
  return results1;
};

draw = () => {
  var i, j, k, len, len1, ref;
  background(128);
  drawBoard();
  info();
  textAlign(CENTER, CENTER);
  if (state > 0) {
    rects[queen].drawPiece(Queen);
    rects[knight].drawPiece(Knight);
  }
  for (j = 0, len = illegal.length; j < len; j++) {
    i = illegal[j];
    rects[i].drawDot();
  }
  textSize(0.55 * W);
  ref = range(taken);
  for (k = 0, len1 = ref.length; k < len1; k++) {
    i = ref[k];
    if (targets[i] !== knight) {
      rects[targets[i]].text(arrClicks[i]);
    }
  }
  if (state === 1) {
    return rects[targets[taken]].coin();
  }
};

mousePressed = function() {
  var j, len, rect, results1;
  if (state === 2) {
    newGame();
    return;
  }
  results1 = [];
  for (j = 0, len = rects.length; j < len; j++) {
    rect = rects[j];
    if (rect.inside(mouseX, mouseY)) {
      results1.push(rect.click());
    } else {
      results1.push(void 0);
    }
  }
  return results1;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxTQUFBLEVBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxFQUFBLFVBQUEsRUFBQSxPQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUE7RUFBQTs7QUFBQSxLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUNWLElBQUEsR0FBTyxPQUFPLENBQUM7O0FBRWYsR0FBQSxHQUFNLENBQUMsR0FBRCxDQUFBLEdBQUE7U0FBUyxHQUFHLENBQUMsTUFBSixDQUFXLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFBLEdBQUE7V0FBVSxDQUFBLEdBQUk7RUFBZCxDQUFELENBQVgsRUFBOEIsQ0FBOUI7QUFBVDs7QUFFTixPQUFBLEdBQVUsQ0FBQyxFQUFELEVBQUksRUFBSixFQUFPLEVBQVAsRUFBVSxFQUFWLEVBQWEsRUFBYixFQUFnQixFQUFoQixFQUFtQixFQUFuQixFQUFzQixFQUF0QixFQUF5QixFQUF6QixFQUE0QixFQUE1QixFQUErQixFQUEvQixFQUFrQyxFQUFsQyxFQUFxQyxFQUFyQyxFQUF3QyxFQUF4QyxFQUEyQyxFQUEzQyxFQUE4QyxFQUE5QyxFQUFpRCxFQUFqRCxFQUFvRCxFQUFwRCxFQUF1RCxFQUF2RCxF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bmdlXHJcbmxvZ2cgPSBjb25zb2xlLmxvZ1xyXG5cclxuc3VtID0gKGFycilcdD0+IGFyci5yZWR1Y2UoKChhLCBiKSA9PiBhICsgYiksIDApXHJcblxyXG5OT1FVRUVOID0gWzEwLDEzLDE3LDE4LDE5LDIwLDIxLDIyLDI2LDI5LDM0LDM3LDQxLDQyLDQzLDQ0LDQ1LDQ2LDUwLDUzXVxyXG5OID0gOFxyXG5XID0gMFxyXG5IID0gMFxyXG5SID0gVy8vMTBcclxuYyA9IChuKSA9PiBuICUlIE5cclxuciA9IChuKSA9PiBuIC8vIE5cclxucmVjdHMgPSBbXVxyXG5cclxuUXVlZW4gPSAn4pmbJ1xyXG5LbmlnaHQgPSAn4pmYJ1xyXG5xdWVlbiA9IDBcclxuaWxsZWdhbCA9IFtdICMgaW5kZXhlcyBvZiBzcXVhcmVzIHRha2VuIGJ5IHF1ZWVuXHJcbnRhcmdldHMgPSBbXSAjIGluZGV4ZXMgb2Ygc3F1YXJlcyB0aGF0IGtuaWdodCBtdXN0IHZpc2l0XHJcbnN0YXRlID0gMFxyXG5cclxua25pZ2h0ID0gMFxyXG5jbGlja3MgPSAwXHJcbmFyckNsaWNrcyA9IFtdXHQjIG51bWJlciBvZiBjbGlja3MgZm9yIGVhY2ggdGFyZ2V0XHJcbnRha2VuID0gMFxyXG5yZXN1bHRzID0gW11cclxuXHJcbnN0YXJ0ID0gMFxyXG5cclxud2luZG93Lm9ucmVzaXplID0gLT4gcmVTaXplKClcclxuXHJcbnJlU2l6ZSA9IC0+XHJcblx0SCA9IG1pbihpbm5lckhlaWdodC8vMTgsaW5uZXJXaWR0aC8vOSlcclxuXHRXID0gSFxyXG5cdEggPSBXXHJcblx0UiA9IFcvLzEwXHJcblx0cmVzaXplQ2FudmFzIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0XHJcblx0cmVjdHMgPSBbXVxyXG5cdG1hcmdpbiA9IChpbm5lcldpZHRoLTgqVykvLzJcclxuXHRmb3IgaW5kZXggaW4gcmFuZ2UgTipOXHJcblx0XHRyaSA9IHIgaW5kZXhcclxuXHRcdGNpID0gYyBpbmRleFxyXG5cdFx0Y29sID0gaWYgKHJpICsgY2kpICUgMiB0aGVuICd5ZWxsb3cnIGVsc2UgJ2Jyb3duJ1xyXG5cdFx0eCA9IFcvMiArIFcgKiBjIGluZGV4IFxyXG5cdFx0eSA9IEggKyBIICogciBpbmRleFxyXG5cdFx0cmVjdHMucHVzaCBuZXcgUmVjdCBpbmRleCwgbWFyZ2luK3gsIHksIFcsSCwgY29sXHJcblxyXG5tYWtlSWxsZWdhbHMgPSA9PlxyXG5cdGZvciBpIGluIHJhbmdlIE4qTlxyXG5cdFx0Y2kgPSBjIGlcclxuXHRcdHJpID0gciBpXHJcblx0XHRjcSA9IGMgcXVlZW5cclxuXHRcdHJxID0gciBxdWVlblxyXG5cdFx0ZGMgPSBhYnMgY2kgLSBjcVxyXG5cdFx0ZHIgPSBhYnMgcmkgLSBycVxyXG5cdFx0aWYgY2kgPT0gY3Egb3IgcmkgPT0gcnEgb3IgZGMgPT0gZHIgdGhlbiBpbGxlZ2FsLnB1c2ggaVxyXG5cclxucGxhY2VRdWVlbiA9IChpbmRleCkgPT5cclxuXHRpZiBOT1FVRUVOLmluY2x1ZGVzIGluZGV4XHJcblx0XHRsb2dnICdObyBxdWVlbiBoZXJlJ1xyXG5cdFx0cmV0dXJuXHJcblxyXG5cdHF1ZWVuID0gaW5kZXhcclxuXHRtYWtlSWxsZWdhbHMoKVxyXG5cdHRhcmdldHM9IHJhbmdlKE4qTikuZmlsdGVyIChpKSA9PiBub3QgaWxsZWdhbC5pbmNsdWRlcyBpXHJcblx0a25pZ2h0ID0gdGFyZ2V0c1swXVxyXG5cdGFyckNsaWNrcy5wdXNoIDBcclxuXHR0YWtlbisrXHJcblx0c3RhdGUrK1xyXG5cdHJlc3VsdHNbcmVzdWx0cy5sZW5ndGgtMV0gPSAnTW92ZSB0aGUga25pZ2h0IHRvIHRoZSBjb2luJ1xyXG5cclxubmV3R2FtZSA9ICgpIC0+XHJcblx0cXVlZW4gPSAwXHJcblx0aWxsZWdhbCA9IFtdXHJcblx0dGFyZ2V0cyA9IFtdXHJcblx0c3RhdGUgPSAwXHJcblx0a25pZ2h0ID0gMFxyXG5cdGNsaWNrcyA9IDBcclxuXHRhcnJDbGlja3MgPSBbXVxyXG5cdHRha2VuID0gMFxyXG5cdHN0YXJ0ID0gbmV3IERhdGUoKVxyXG5cclxuXHRpZiByZXN1bHRzLmxlbmd0aCA9PSAwXHJcblx0XHRyZXN1bHRzLnB1c2ggJ01vdmUgdGhlIGtuaWdodCB0byB0aGUgc3F1YXJlIHdpdGgnXHJcblx0XHRyZXN1bHRzLnB1c2ggJ2EgY29pbiwgd2l0aG91dCBtb3ZpbmcgdG8gYSBzcXVhcmUgdGhlJ1xyXG5cdFx0cmVzdWx0cy5wdXNoICdxdWVlbiBjYW4gY2FwdHVyZSBhbmQgd2l0aG91dCBjYXB0dXJpbmcnXHJcblx0XHRyZXN1bHRzLnB1c2ggJ3RoZSBxdWVlbi4gT25jZSBhY2NvbXBsaXNoZWQgdGhlIGNvaW4nXHJcblx0XHRyZXN1bHRzLnB1c2ggJ21vdmVzIHRvIHRoZSBuZXh0IHNxdWFyZS4gUmVwZWF0IHVudGlsJ1xyXG5cdFx0cmVzdWx0cy5wdXNoICdhbGwgcG9zc2libGUgc3F1YXJlcyBhcmUgZG9uZS4nXHJcblx0XHRyZXN1bHRzLnB1c2ggJydcclxuXHRcdHJlc3VsdHMucHVzaCAnQ2xpY2sgb24gYSBzcXVhcmUgdG8gcGxhY2UgdGhlIHF1ZWVuJ1xyXG5cclxubW92ZUtuaWdodCA9IChpbmRleCkgPT5cclxuXHRpZiBpbGxlZ2FsLmluY2x1ZGVzIGluZGV4IHRoZW4gcmV0dXJuXHJcblx0Y29sID0gYyBpbmRleFxyXG5cdHJvdyA9IHIgaW5kZXhcclxuXHRkeCA9IGFicyBjb2wgLSBjIGtuaWdodFxyXG5cdGR5ID0gYWJzIHJvdyAtIHIga25pZ2h0XHJcblx0aWYgZHgqZHggKyBkeSpkeSA9PSA1XHJcblx0XHRrbmlnaHQgPSBpbmRleFxyXG5cdFx0Y2xpY2tzKytcclxuXHRcdGlmIHRhcmdldHNbdGFrZW5dID09IGtuaWdodFxyXG5cdFx0XHR0YWtlbisrXHJcblx0XHRcdGFyckNsaWNrcy5wdXNoIGNsaWNrc1xyXG5cdFx0XHRjbGlja3MgPSAwXHJcblx0aWYgdGFrZW4gPT0gdGFyZ2V0cy5sZW5ndGhcclxuXHRcdHJlc3VsdHMucG9wKClcclxuXHRcdHJlc3VsdHMucHVzaCBcIiN7cVBvc2l0aW9uKCl9OiAje3N1bShhcnJDbGlja3MpfSBjbGlja3MgdG9vayAjeyhuZXcgRGF0ZSgpLXN0YXJ0KS8xMDAwfSBzZWNvbmRzXCJcclxuXHRcdHN0YXRlID0gMlxyXG5cclxuY2xhc3MgUmVjdFxyXG5cdGNvbnN0cnVjdG9yIDogKEBpbmRleCwgQHgsQHksIEB3LEBoLCBAY29sKSAtPlxyXG5cdGRyYXcgOiAgLT5cclxuXHRcdGZpbGwgQGNvbFxyXG5cdFx0cmVjdCBAeCwgQHksIEB3LCBAaFxyXG5cdGluc2lkZSA6ICh4LCB5KSAtPiBhYnMoeC1AeCkgPD0gVy8yIGFuZCBhYnMoeS1AeSkgPD0gSC8yXHJcblx0Y2xpY2sgOiAtPiBpZiBzdGF0ZT09MCB0aGVuIHBsYWNlUXVlZW4gQGluZGV4IGVsc2UgbW92ZUtuaWdodCBAaW5kZXhcclxuXHRkcmF3UGllY2UgOiAobmFtZSkgLT5cclxuXHRcdHRleHRTaXplIFdcclxuXHRcdGZpbGwgXCJibGFja1wiXHJcblx0XHR0ZXh0IG5hbWUsQHgsQHkgKyA1XHJcblx0ZHJhd0RvdCA6IC0+IGlmIEBpbmRleCAhPSBxdWVlbiB0aGVuIGVsbGlwc2UgQHgsIEB5LCAyKlJcclxuXHR0ZXh0IDogKHR4dCkgLT5cclxuXHRcdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdFx0dGV4dFNpemUgMC41KldcclxuXHRcdGZpbGwgJ2JsYWNrJ1xyXG5cdFx0dGV4dCB0eHQsIEB4LCBAeVxyXG5cdGNvaW4gOiA9PlxyXG5cdFx0bm9GaWxsKClcclxuXHRcdHB1c2goKVxyXG5cdFx0c3Ryb2tlV2VpZ2h0IDNcclxuXHRcdGVsbGlwc2UgQHgsIEB5LCA1KlJcclxuXHRcdHBvcCgpXHJcblxyXG5zZXR1cCA9ID0+XHJcblx0cmVTaXplKClcclxuXHRuZXdHYW1lKClcclxuXHRyZWN0TW9kZSBDRU5URVJcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLCBDRU5URVJcclxuXHRjcmVhdGVDYW52YXMgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHRcclxuXHJcbnFQb3NpdGlvbiA9ICgpLT4gXCJRI3tcImFiY2RlZmdoXCJbYyBxdWVlbl19I3tcIjg3NjU0MzIxXCJbciBxdWVlbl19XCJcclxuXHJcbmluZm8gPSAtPlxyXG5cdGZpbGwgJ2JsYWNrJ1xyXG5cdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdHRleHRTaXplIDAuNSpXXHJcblx0Zm9yIHJlc3VsdCxpIGluIHJlc3VsdHNcclxuXHRcdHRleHQgcmVzdWx0LGlubmVyV2lkdGgvLzIsIDkqSCArIGkqSC8yXHJcblxyXG5kcmF3Qm9hcmQgPSAoKSA9PlxyXG5cdGZvciByZWN0IGluIHJlY3RzXHJcblx0XHRyZWN0LmRyYXcoKVxyXG5cclxuZHJhdyA9ID0+XHJcblx0YmFja2dyb3VuZCAxMjhcclxuXHRkcmF3Qm9hcmQoKVxyXG5cdGluZm8oKVxyXG5cclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLCBDRU5URVJcclxuXHRpZiBzdGF0ZSA+IDBcclxuXHRcdHJlY3RzW3F1ZWVuXS5kcmF3UGllY2UgUXVlZW5cclxuXHRcdHJlY3RzW2tuaWdodF0uZHJhd1BpZWNlIEtuaWdodFxyXG5cclxuXHRmb3IgaSBpbiBpbGxlZ2FsXHJcblx0XHRyZWN0c1tpXS5kcmF3RG90KClcclxuXHJcblx0dGV4dFNpemUgMC41NSpXXHJcblx0Zm9yIGkgaW4gcmFuZ2UgdGFrZW5cclxuXHRcdGlmIHRhcmdldHNbaV0gIT0ga25pZ2h0XHJcblx0XHRcdHJlY3RzW3RhcmdldHNbaV1dLnRleHQgYXJyQ2xpY2tzW2ldXHJcblxyXG5cdGlmIHN0YXRlID09IDFcclxuXHRcdHJlY3RzW3RhcmdldHNbdGFrZW5dXS5jb2luKClcclxuXHJcbm1vdXNlUHJlc3NlZCA9IC0+XHJcblx0aWYgc3RhdGU9PTJcclxuXHRcdG5ld0dhbWUoKVxyXG5cdFx0cmV0dXJuXHJcblx0Zm9yIHJlY3QgaW4gcmVjdHNcclxuXHRcdGlmIHJlY3QuaW5zaWRlIG1vdXNlWCwgbW91c2VZIHRoZW4gcmVjdC5jbGljaygpXHJcbiJdfQ==
//# sourceURL=c:\github\2023-008-KnightMoves\coffee\sketch.coffee