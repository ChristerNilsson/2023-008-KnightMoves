// Generated by CoffeeScript 2.5.1
var H, Knight, N, NOQUEEN, Queen, R, Rect, W, arrClicks, c, cirkel, clicks, draw, drawBoard, drawIllegals, drawPiece, illegal, info, knight, logg, makeIllegals, mousePressed, moveKnight, newGame, placeQueen, qPosition, queen, r, range, rects, results, setup, start, state, sum, taken, targets,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

range = _.range;

logg = console.log;

cirkel = function(x, y, r) {
  return ellipse(x, y, 2 * r, 2 * r);
};

sum = (arr) => {
  return arr.reduce(((a, b) => {
    return a + b;
  }), 0);
};

NOQUEEN = [10, 13, 17, 18, 19, 20, 21, 22, 26, 29, 34, 37, 41, 42, 43, 44, 45, 46, 50, 53];

N = 8;

W = 0;

H = 0;

R = Math.floor(W / 10);

c = (n) => {
  return modulo(n, N);
};

r = (n) => {
  return Math.floor(n / N);
};

rects = [];

Queen = '♛';

Knight = '♘';

queen = 0;

illegal = []; // indexes of squares taken by queen

targets = []; // indexes of squares that knight must visit

state = 0;

knight = 0;

clicks = 0;

arrClicks = []; // number of clicks for each target

taken = 0;

results = [];

start = 0;

makeIllegals = () => {
  var ci, cq, dc, dr, i, j, len, ref, results1, ri, rq;
  ref = range(N * N);
  results1 = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    ci = c(i);
    ri = r(i);
    cq = c(queen);
    rq = r(queen);
    dc = abs(ci - cq);
    dr = abs(ri - rq);
    if (ci === cq || ri === rq || dc === dr) {
      results1.push(illegal.push(i));
    } else {
      results1.push(void 0);
    }
  }
  return results1;
};

placeQueen = (index) => {
  if (NOQUEEN.includes(index)) {
    logg('No queen here');
    return;
  }
  queen = index;
  makeIllegals();
  targets = range(N * N).filter((i) => {
    return !illegal.includes(i);
  });
  knight = targets[0];
  arrClicks.push(0);
  taken++;
  state++;
  return results[results.length - 1] = 'Move the knight to the coin';
};

newGame = function() {
  queen = 0;
  illegal = [];
  targets = [];
  state = 0;
  knight = 0;
  clicks = 0;
  arrClicks = [];
  taken = 0;
  start = new Date();
  return results.push('Click on a square to place the queen');
};

moveKnight = (index) => {
  var col, dx, dy, row;
  if (illegal.includes(index)) {
    return;
  }
  col = c(index);
  row = r(index);
  dx = abs(col - c(knight));
  dy = abs(row - r(knight));
  if (dx * dx + dy * dy === 5) {
    knight = index;
    clicks++;
    if (targets[taken] === knight) {
      taken++;
      arrClicks.push(clicks);
      clicks = 0;
    }
  }
  if (taken === targets.length) {
    results.pop();
    results.push(`${qPosition()}: ${sum(arrClicks)} clicks took ${(new Date() - start) / 1000} seconds`);
    return state = 2;
  }
};

Rect = class Rect {
  constructor(index1, x1, y1, w, h, col1) {
    this.index = index1;
    this.x = x1;
    this.y = y1;
    this.w = w;
    this.h = h;
    this.col = col1;
  }

  draw() {
    fill(this.col);
    return rect(this.x, this.y, this.w, this.h);
  }

  inside(x, y) {
    return (this.x <= x && x <= this.x + this.w) && (this.y <= y && y <= this.y + this.h);
  }

  click() {
    if (state === 0) {
      return placeQueen(this.index);
    } else {
      return moveKnight(this.index);
    }
  }

};

setup = () => {
  var ci, col, index, j, len, ref, results1, ri, x, y;
  W = Math.floor(innerWidth / 9);
  H = W;
  R = Math.floor(W / 10);
  newGame();
  textAlign(CENTER, CENTER);
  createCanvas(windowWidth, windowHeight);
  ref = range(N * N);
  results1 = [];
  for (j = 0, len = ref.length; j < len; j++) {
    index = ref[j];
    ri = r(index);
    ci = c(index);
    col = (ri + ci) % 2 ? 'yellow' : 'brown';
    x = W / 2 + W * c(index);
    y = H / 2 + H * r(index);
    results1.push(rects.push(new Rect(index, x, y, W, H, col)));
  }
  return results1;
};

qPosition = function() {
  return `Q${"abcdefgh"[c(queen)]}${"87654321"[r(queen)]}`;
};

info = function() {
  var i, j, len, result, results1;
  fill('black');
  textAlign(LEFT, CENTER);
  textSize(0.5 * W);
  results1 = [];
  for (i = j = 0, len = results.length; j < len; i = ++j) {
    result = results[i];
    results1.push(text(result, 0.5 * W, 9 * H + i * H / 2));
  }
  return results1;
};

drawBoard = () => {
  var j, len, rect, results1;
  results1 = [];
  for (j = 0, len = rects.length; j < len; j++) {
    rect = rects[j];
    results1.push(rect.draw());
  }
  return results1;
};

drawIllegals = function() {
  var i, j, len, results1, x, y;
  results1 = [];
  for (j = 0, len = illegal.length; j < len; j++) {
    i = illegal[j];
    if (i !== queen) {
      x = W + W * c(i);
      y = H + H * r(i);
      results1.push(cirkel(x, y, R));
    } else {
      results1.push(void 0);
    }
  }
  return results1;
};

drawPiece = function(piece, name) {
  var x, y;
  x = W + W * c(piece);
  y = H + H * r(piece);
  return text(name, x, y + 5);
};

draw = () => {
  var i, j, len, ref, x, y;
  background(128);
  drawBoard();
  info();
  textAlign(CENTER, CENTER);
  textSize(W);
  fill("black");
  if (state > 0) {
    drawPiece(queen, Queen);
    drawPiece(knight, Knight);
  }
  drawIllegals();
  textSize(0.55 * W);
  ref = range(taken);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    if (targets[i] !== knight) {
      x = W + W * c(targets[i]);
      y = H + H * r(targets[i]);
      text(arrClicks[i], x, y + 5);
    }
  }
  if (state === 1) {
    x = W + W * c(targets[taken]);
    y = H + H * r(targets[taken]);
    noFill();
    return cirkel(x, y, 2 * R);
  }
};

mousePressed = function() {
  var j, len, rect, results1;
  if (state === 2) {
    newGame();
    return;
  }
  results1 = [];
  for (j = 0, len = rects.length; j < len; j++) {
    rect = rects[j];
    if (rect.inside(mouseX, mouseY)) {
      results1.push(rect.click());
    } else {
      results1.push(void 0);
    }
  }
  return results1;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxTQUFBLEVBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxZQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxFQUFBLFVBQUEsRUFBQSxPQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQTtFQUFBOztBQUFBLEtBQUEsR0FBUSxDQUFDLENBQUM7O0FBQ1YsSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFFZixNQUFBLEdBQVMsUUFBQSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUFBO1NBQWEsT0FBQSxDQUFRLENBQVIsRUFBVyxDQUFYLEVBQWMsQ0FBQSxHQUFJLENBQWxCLEVBQXFCLENBQUEsR0FBSSxDQUF6QjtBQUFiOztBQUVULEdBQUEsR0FBTSxDQUFDLEdBQUQsQ0FBQSxHQUFBO1NBQVMsR0FBRyxDQUFDLE1BQUosQ0FBVyxDQUFDLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBQSxHQUFBO1dBQVUsQ0FBQSxHQUFJO0VBQWQsQ0FBRCxDQUFYLEVBQThCLENBQTlCO0FBQVQ7O0FBRU4sT0FBQSxHQUFVLENBQUMsRUFBRCxFQUFJLEVBQUosRUFBTyxFQUFQLEVBQVUsRUFBVixFQUFhLEVBQWIsRUFBZ0IsRUFBaEIsRUFB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LENBQVQ7TUFDWixDQUFBLEdBQUksQ0FBQSxHQUFJLENBQUEsR0FBSSxDQUFBLENBQUUsT0FBTyxDQUFDLENBQUQsQ0FBVDtNQUNaLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBRCxDQUFkLEVBQWtCLENBQWxCLEVBQW9CLENBQUEsR0FBSSxDQUF4QixFQUhEOztFQUREO0VBTUEsSUFBRyxLQUFBLEtBQVMsQ0FBWjtJQUNDLENBQUEsR0FBSSxDQUFBLEdBQUksQ0FBQSxHQUFJLENBQUEsQ0FBRSxPQUFPLENBQUMsS0FBRCxDQUFUO0lBQ1osQ0FBQSxHQUFJLENBQUEsR0FBSSxDQUFBLEdBQUksQ0FBQSxDQUFFLE9BQU8sQ0FBQyxLQUFELENBQVQ7SUFDWixNQUFBLENBQUE7V0FDQSxNQUFBLENBQU8sQ0FBUCxFQUFTLENBQVQsRUFBVyxDQUFBLEdBQUUsQ0FBYixFQUpEOztBQXJCTTs7QUEyQlAsWUFBQSxHQUFlLFFBQUEsQ0FBQSxDQUFBO0FBQ2YsTUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQTtFQUFDLElBQUcsS0FBQSxLQUFPLENBQVY7SUFDQyxPQUFBLENBQUE7QUFDQSxXQUZEOztBQUdBO0VBQUEsS0FBQSx1Q0FBQTs7SUFDQyxJQUFHLElBQUksQ0FBQyxNQUFMLENBQVksTUFBWixFQUFvQixNQUFwQixDQUFIO29CQUFtQyxJQUFJLENBQUMsS0FBTCxDQUFBLEdBQW5DO0tBQUEsTUFBQTs0QkFBQTs7RUFERCxDQUFBOztBQUpjIiwic291cmNlc0NvbnRlbnQiOlsicmFuZ2UgPSBfLnJhbmdlXHJcbmxvZ2cgPSBjb25zb2xlLmxvZ1xyXG5cclxuY2lya2VsID0gKHgsIHksIHIpIC0+XHRlbGxpcHNlIHgsIHksIDIgKiByLCAyICogclxyXG5cclxuc3VtID0gKGFycilcdD0+IGFyci5yZWR1Y2UoKChhLCBiKSA9PiBhICsgYiksIDApXHJcblxyXG5OT1FVRUVOID0gWzEwLDEzLDE3LDE4LDE5LDIwLDIxLDIyLDI2LDI5LDM0LDM3LDQxLDQyLDQzLDQ0LDQ1LDQ2LDUwLDUzXVxyXG5OID0gOFxyXG5XID0gMCBcclxuSCA9IDAgXHJcblIgPSBXLy8xMFxyXG5jID0gKG4pID0+IG4gJSUgTlxyXG5yID0gKG4pID0+IG4gLy8gTlxyXG5yZWN0cyA9IFtdXHJcblxyXG5RdWVlbiA9ICfimZsnXHJcbktuaWdodCA9ICfimZgnXHJcbnF1ZWVuID0gMFxyXG5pbGxlZ2FsID0gW10gIyBpbmRleGVzIG9mIHNxdWFyZXMgdGFrZW4gYnkgcXVlZW5cclxudGFyZ2V0cyA9IFtdICMgaW5kZXhlcyBvZiBzcXVhcmVzIHRoYXQga25pZ2h0IG11c3QgdmlzaXRcclxuc3RhdGUgPSAwXHJcblxyXG5rbmlnaHQgPSAwXHJcbmNsaWNrcyA9IDBcclxuYXJyQ2xpY2tzID0gW11cdCMgbnVtYmVyIG9mIGNsaWNrcyBmb3IgZWFjaCB0YXJnZXRcclxudGFrZW4gPSAwXHJcbnJlc3VsdHMgPSBbXVxyXG5cclxuc3RhcnQgPSAwXHJcblxyXG5tYWtlSWxsZWdhbHMgPSA9PlxyXG5cdGZvciBpIGluIHJhbmdlIE4qTlxyXG5cdFx0Y2kgPSBjIGlcclxuXHRcdHJpID0gciBpXHJcblx0XHRjcSA9IGMgcXVlZW5cclxuXHRcdHJxID0gciBxdWVlblxyXG5cdFx0ZGMgPSBhYnMgY2kgLSBjcVxyXG5cdFx0ZHIgPSBhYnMgcmkgLSBycVxyXG5cdFx0aWYgY2kgPT0gY3Egb3IgcmkgPT0gcnEgb3IgZGMgPT0gZHIgdGhlbiBpbGxlZ2FsLnB1c2ggaVxyXG5cclxucGxhY2VRdWVlbiA9IChpbmRleCkgPT5cclxuXHRpZiBOT1FVRUVOLmluY2x1ZGVzIGluZGV4XHJcblx0XHRsb2dnICdObyBxdWVlbiBoZXJlJ1xyXG5cdFx0cmV0dXJuXHJcblxyXG5cdHF1ZWVuID0gaW5kZXhcclxuXHRtYWtlSWxsZWdhbHMoKVxyXG5cdHRhcmdldHM9IHJhbmdlKE4qTikuZmlsdGVyIChpKSA9PiBub3QgaWxsZWdhbC5pbmNsdWRlcyBpXHJcblx0a25pZ2h0ID0gdGFyZ2V0c1swXVxyXG5cdGFyckNsaWNrcy5wdXNoIDBcclxuXHR0YWtlbisrXHJcblx0c3RhdGUrK1xyXG5cdHJlc3VsdHNbcmVzdWx0cy5sZW5ndGgtMV0gPSAnTW92ZSB0aGUga25pZ2h0IHRvIHRoZSBjb2luJ1xyXG5cclxubmV3R2FtZSA9ICgpIC0+XHJcblx0cXVlZW4gPSAwXHJcblx0aWxsZWdhbCA9IFtdXHJcblx0dGFyZ2V0cyA9IFtdXHJcblx0c3RhdGUgPSAwXHJcblx0a25pZ2h0ID0gMFxyXG5cdGNsaWNrcyA9IDBcclxuXHRhcnJDbGlja3MgPSBbXVxyXG5cdHRha2VuID0gMFxyXG5cdHN0YXJ0ID0gbmV3IERhdGUoKVxyXG5cdHJlc3VsdHMucHVzaCAnQ2xpY2sgb24gYSBzcXVhcmUgdG8gcGxhY2UgdGhlIHF1ZWVuJ1xyXG5cclxubW92ZUtuaWdodCA9IChpbmRleCkgPT5cclxuXHRpZiBpbGxlZ2FsLmluY2x1ZGVzIGluZGV4IHRoZW4gcmV0dXJuXHJcblx0Y29sID0gYyBpbmRleFxyXG5cdHJvdyA9IHIgaW5kZXhcclxuXHRkeCA9IGFicyBjb2wgLSBjIGtuaWdodFxyXG5cdGR5ID0gYWJzIHJvdyAtIHIga25pZ2h0XHJcblx0aWYgZHgqZHggKyBkeSpkeSA9PSA1XHJcblx0XHRrbmlnaHQgPSBpbmRleFxyXG5cdFx0Y2xpY2tzKytcclxuXHRcdGlmIHRhcmdldHNbdGFrZW5dID09IGtuaWdodFxyXG5cdFx0XHR0YWtlbisrXHJcblx0XHRcdGFyckNsaWNrcy5wdXNoIGNsaWNrc1xyXG5cdFx0XHRjbGlja3MgPSAwXHJcblx0aWYgdGFrZW4gPT0gdGFyZ2V0cy5sZW5ndGhcclxuXHRcdHJlc3VsdHMucG9wKClcclxuXHRcdHJlc3VsdHMucHVzaCBcIiN7cVBvc2l0aW9uKCl9OiAje3N1bShhcnJDbGlja3MpfSBjbGlja3MgdG9vayAjeyhuZXcgRGF0ZSgpLXN0YXJ0KS8xMDAwfSBzZWNvbmRzXCJcclxuXHRcdHN0YXRlID0gMlxyXG5cclxuY2xhc3MgUmVjdFxyXG5cdGNvbnN0cnVjdG9yIDogKEBpbmRleCwgQHgsQHksIEB3LEBoLCBAY29sKSAtPlxyXG5cdGRyYXcgOiAgLT5cclxuXHRcdGZpbGwgQGNvbFxyXG5cdFx0cmVjdCBAeCwgQHksIEB3LCBAaFxyXG5cdGluc2lkZSA6ICh4LCB5KSAtPiBAeCA8PSB4IDw9IEB4ICsgQHcgYW5kIEB5IDw9IHkgPD0gQHkgKyBAaFxyXG5cdGNsaWNrIDogLT4gaWYgc3RhdGU9PTAgdGhlbiBwbGFjZVF1ZWVuIEBpbmRleCBlbHNlIG1vdmVLbmlnaHQgQGluZGV4XHJcblxyXG5zZXR1cCA9ID0+XHJcblx0VyA9IGlubmVyV2lkdGgvLzlcclxuXHRIID0gV1xyXG5cdFIgPSBXLy8xMFxyXG5cdG5ld0dhbWUoKVxyXG5cdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0XHJcblx0Zm9yIGluZGV4IGluIHJhbmdlIE4qTlxyXG5cdFx0cmkgPSByIGluZGV4XHJcblx0XHRjaSA9IGMgaW5kZXhcclxuXHRcdGNvbCA9IGlmIChyaSArIGNpKSAlIDIgdGhlbiAneWVsbG93JyBlbHNlICdicm93bidcclxuXHRcdHggPSBXLzIgKyBXICogYyBpbmRleFxyXG5cdFx0eSA9IEgvMiArIEggKiByIGluZGV4XHJcblx0XHRyZWN0cy5wdXNoIG5ldyBSZWN0IGluZGV4LCB4LCB5LCBXLEgsIGNvbFxyXG5cdFxyXG5xUG9zaXRpb24gPSAoKS0+IFwiUSN7XCJhYmNkZWZnaFwiW2MgcXVlZW5dfSN7XCI4NzY1NDMyMVwiW3IgcXVlZW5dfVwiXHJcblxyXG5pbmZvID0gLT5cclxuXHRmaWxsICdibGFjaydcclxuXHR0ZXh0QWxpZ24gTEVGVCwgQ0VOVEVSXHJcblx0dGV4dFNpemUgMC41KldcclxuXHRmb3IgcmVzdWx0LGkgaW4gcmVzdWx0c1xyXG5cdFx0dGV4dCByZXN1bHQsMC41KlcsIDkqSCArIGkqSC8yXHJcblxyXG5kcmF3Qm9hcmQgPSAoKSA9PlxyXG5cdGZvciByZWN0IGluIHJlY3RzXHJcblx0XHRyZWN0LmRyYXcoKVxyXG5cclxuZHJhd0lsbGVnYWxzID0gLT5cclxuXHRmb3IgaSBpbiBpbGxlZ2FsXHJcblx0XHRpZiBpICE9IHF1ZWVuXHJcblx0XHRcdHggPSBXICsgVyAqIGMgaVxyXG5cdFx0XHR5ID0gSCArIEggKiByIGlcclxuXHRcdFx0Y2lya2VsIHgsIHksIFJcclxuXHJcbmRyYXdQaWVjZSA9IChwaWVjZSwgbmFtZSkgLT5cclxuXHR4ID0gVyArIFcgKiBjIHBpZWNlXHJcblx0eSA9IEggKyBIICogciBwaWVjZSBcclxuXHR0ZXh0IG5hbWUseCx5ICsgNVxyXG5cclxuZHJhdyA9ID0+XHJcblx0YmFja2dyb3VuZCAxMjhcclxuXHRkcmF3Qm9hcmQoKVxyXG5cdGluZm8oKVxyXG5cclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLCBDRU5URVJcclxuXHR0ZXh0U2l6ZSBXXHJcblx0ZmlsbCBcImJsYWNrXCJcclxuXHRpZiBzdGF0ZSA+IDBcclxuXHRcdGRyYXdQaWVjZSBxdWVlbixRdWVlblxyXG5cdFx0ZHJhd1BpZWNlIGtuaWdodCxLbmlnaHRcclxuXHJcblx0ZHJhd0lsbGVnYWxzKClcclxuXHJcblx0dGV4dFNpemUgMC41NSpXXHJcblx0Zm9yIGkgaW4gcmFuZ2UgdGFrZW5cclxuXHRcdGlmIHRhcmdldHNbaV0gIT0ga25pZ2h0XHJcblx0XHRcdHggPSBXICsgVyAqIGMgdGFyZ2V0c1tpXVxyXG5cdFx0XHR5ID0gSCArIEggKiByIHRhcmdldHNbaV1cclxuXHRcdFx0dGV4dCBhcnJDbGlja3NbaV0seCx5ICsgNVxyXG5cclxuXHRpZiBzdGF0ZSA9PSAxXHJcblx0XHR4ID0gVyArIFcgKiBjIHRhcmdldHNbdGFrZW5dXHJcblx0XHR5ID0gSCArIEggKiByIHRhcmdldHNbdGFrZW5dXHJcblx0XHRub0ZpbGwoKVxyXG5cdFx0Y2lya2VsIHgseSwyKlJcclxuXHJcbm1vdXNlUHJlc3NlZCA9IC0+XHJcblx0aWYgc3RhdGU9PTJcclxuXHRcdG5ld0dhbWUoKVxyXG5cdFx0cmV0dXJuXHJcblx0Zm9yIHJlY3QgaW4gcmVjdHNcclxuXHRcdGlmIHJlY3QuaW5zaWRlIG1vdXNlWCwgbW91c2VZIHRoZW4gcmVjdC5jbGljaygpXHJcbiJdfQ==
//# sourceURL=c:\github\2023-008-KnightMoves\coffee\sketch.coffee